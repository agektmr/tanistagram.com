(function(e){if("function"==typeof bootstrap)bootstrap("delegate",e);else if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeDelegate=e}else"undefined"!=typeof window?window.Delegate=e():global.Delegate=e()})(function(){var define,ses,bootstrap,module,exports;return function(e,t,n){function i(n,s){if(!t[n]){if(!e[n]){var o=typeof require=="function"&&require;if(!s&&o)return o(n,!0);if(r)return r(n,!0);throw new Error("Cannot find module '"+n+"'")}var u=t[n]={exports:{}};e[n][0].call(u.exports,function(t){var r=e[n][1][t];return i(r?r:t)},u,u.exports)}return t[n].exports}var r=typeof require=="function"&&require;for(var s=0;s<n.length;s++)i(n[s]);return i}({1:[function(require,module,exports){(function(){"use strict";module.exports=Delegate;function Delegate(root){this.listenerMap=[{},{}];if(root){this.root(root)}this.handle=Delegate.prototype.handle.bind(this)}Delegate.prototype.root=function(root){var listenerMap=this.listenerMap;var eventType;if(typeof root==="string"){root=document.querySelector(root)}if(this.rootElement){for(eventType in listenerMap[1]){if(listenerMap[1].hasOwnProperty(eventType)){this.rootElement.removeEventListener(eventType,this.handle,true)}}for(eventType in listenerMap[0]){if(listenerMap[0].hasOwnProperty(eventType)){this.rootElement.removeEventListener(eventType,this.handle,false)}}}if(!root||!root.addEventListener){if(this.rootElement){delete this.rootElement}return this}this.rootElement=root;for(eventType in listenerMap[1]){if(listenerMap[1].hasOwnProperty(eventType)){this.rootElement.addEventListener(eventType,this.handle,true)}}for(eventType in listenerMap[0]){if(listenerMap[0].hasOwnProperty(eventType)){this.rootElement.addEventListener(eventType,this.handle,false)}}return this};Delegate.prototype.captureForType=function(eventType){return["error","blur","focus","scroll","resize"].indexOf(eventType)!==-1};Delegate.prototype.on=function(eventType,selector,handler,useCapture){var root,listenerMap,matcher,matcherParam;if(!eventType){throw new TypeError("Invalid event type: "+eventType)}if(typeof selector==="function"){useCapture=handler;handler=selector;selector=null}if(useCapture===undefined){useCapture=this.captureForType(eventType)}if(typeof handler!=="function"){throw new TypeError("Handler must be a type of Function")}root=this.rootElement;listenerMap=this.listenerMap[useCapture?1:0];if(!listenerMap[eventType]){if(root){root.addEventListener(eventType,this.handle,useCapture)}listenerMap[eventType]=[]}if(!selector){matcherParam=null;matcher=matchesRoot.bind(this)}else if(/^[a-z]+$/i.test(selector)){matcherParam=selector;matcher=matchesTag}else if(/^#[a-z0-9\-_]+$/i.test(selector)){matcherParam=selector.slice(1);matcher=matchesId}else if(/^\s*[>](.*)$/.test(selector)){matcherParam=RegExp.$1;matcher=scopedDirectMatches.bind(this)}else if(/^\s*[&](.*)$/.test(selector)){matcherParam=RegExp.$1;matcher=scopedMatches.bind(this)}else{matcherParam=selector;matcher=matches}listenerMap[eventType].push({selector:selector,handler:handler,matcher:matcher,matcherParam:matcherParam});return this};Delegate.prototype.off=function(eventType,selector,handler,useCapture){var i,listener,listenerMap,listenerList,singleEventType;if(typeof selector==="function"){useCapture=handler;handler=selector;selector=null}if(useCapture===undefined){this.off(eventType,selector,handler,true);this.off(eventType,selector,handler,false);return this}listenerMap=this.listenerMap[useCapture?1:0];if(!eventType){for(singleEventType in listenerMap){if(listenerMap.hasOwnProperty(singleEventType)){this.off(singleEventType,selector,handler)}}return this}listenerList=listenerMap[eventType];if(!listenerList||!listenerList.length){return this}for(i=listenerList.length-1;i>=0;i--){listener=listenerList[i];if((!selector||selector===listener.selector)&&(!handler||handler===listener.handler)){listenerList.splice(i,1)}}if(!listenerList.length){delete listenerMap[eventType];if(this.rootElement){this.rootElement.removeEventListener(eventType,this.handle,useCapture)}}return this};Delegate.prototype.handle=function(event){var i,l,type=event.type,root,listener,returned,listenerList=[],target,EVENTIGNORE="ftLabsDelegateIgnore";if(event[EVENTIGNORE]===true){return}target=event.target;if(target.nodeType===Node.TEXT_NODE){target=target.parentNode}root=this.rootElement;switch(event.eventPhase){case Event.CAPTURING_PHASE:listenerList=this.listenerMap[1][type];break;case Event.AT_TARGET:if(this.listenerMap[0]&&this.listenerMap[0][type])listenerList=listenerList.concat(this.listenerMap[0][type]);if(this.listenerMap[1]&&this.listenerMap[1][type])listenerList=listenerList.concat(this.listenerMap[1][type]);break;case Event.BUBBLING_PHASE:listenerList=this.listenerMap[0][type];break}l=listenerList.length;while(target&&l){for(i=0;i<l;i++){listener=listenerList[i];if(!listener){break}if(listener.matcher.call(target,listener.matcherParam,target)){returned=this.fire(event,target,listener)}if(returned===false){event[EVENTIGNORE]=true;event.preventDefault();return}}if(target===root){break}l=listenerList.length;target=target.parentElement}};Delegate.prototype.fire=function(event,target,listener){return listener.handler.call(target,event,target)};var matches=function(el){if(!el)return;var p=el.prototype;return p.matches||p.matchesSelector||p.webkitMatchesSelector||p.mozMatchesSelector||p.msMatchesSelector||p.oMatchesSelector}(Element);function matchesTag(tagName,element){return tagName.toLowerCase()===element.tagName.toLowerCase()}function matchesRoot(selector,element){if(this.rootElement===window)return element===document;return this.rootElement===element}function scopedDirectMatches(selector,element){return Array.prototype.some.call(this.rootElement.children,function(el){return el===element})&&matches.call(element,selector,element)}function scopedMatches(selector,element){return this.rootElement.contains(element)&&matches.call(element,selector,element)}function matchesId(id,element){return id===element.id}Delegate.prototype.destroy=function(){this.off();this.root()}})()},{}]},{},[1])(1)});
